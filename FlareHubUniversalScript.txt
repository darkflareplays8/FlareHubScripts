-- üî• FlareHub V2 - COMPLETE MULTI-GAME HUB
getgenv().SecureMode = true

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
Rayfield:LoadConfiguration()

local Window = Rayfield:CreateWindow({
   Name = "üî• FlareHub V2",
   LoadingTitle = "FlareHub V2",
   LoadingSubtitle = "Noclip ‚Ä¢ Fly ‚Ä¢ ESP ‚Ä¢ Walkspeed ‚Ä¢ SAB ‚Ä¢ 99 Nights",
   ConfigurationSaving = { Enabled = true, FolderName = "FlareHub", FileName = "FlareConfig" },
   Discord = { Enabled = false },
   KeySystem = false
})

local MainTab = Window:CreateTab("üéÆ Main", 4483362458)
local SABTab
local NightsTab

local player = game:GetService("Players").LocalPlayer
local RunService = game:GetService("RunService")
task.wait(1)

-- AUTHORIZED USER CHECK
local function isAuthorized()
   return player.Name == "DarealBloxfruiter"
end

-- GAME DETECTION
local function detectGame()
   local success, result = pcall(function()
      return game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name:lower()
   end)
   if success then
      local gameName = result:lower()
      if gameName:find("steal") and gameName:find("brainrot") then return "SAB" end
      if gameName:find("night") and (gameName:find("forest") or gameName:find("99")) then return "99NIGHTS" end
   end
   return "UNIVERSAL"
end

local currentGame = detectGame()

-- ULTRA SAFE WALKSPD
local function safeSetWalkspeed(humanoid, speed)
   local targetSpeed = math.clamp(speed, 16, 24)
   spawn(function()
      while math.abs(humanoid.WalkSpeed - targetSpeed) > 0.1 do
         local newSpeed = humanoid.WalkSpeed + (targetSpeed - humanoid.WalkSpeed) * 0.03
         newSpeed = newSpeed + math.random(-1, 1) * 0.03
         humanoid.WalkSpeed = math.clamp(newSpeed, 16, 24)
         wait(0.4)
      end
   end)
end

-- TRUE GODMODE
local godmodeConnection
local function toggleGodmode(Value)
   if not player.Character then return end
   local humanoid = player.Character:FindFirstChild("Humanoid")
   if not humanoid then return end
   
   if Value then
      godmodeConnection = humanoid.HealthChanged:Connect(function(health)
         if health < humanoid.MaxHealth then
            humanoid.Health = humanoid.MaxHealth
         end
      end)
   else
      if godmodeConnection then godmodeConnection:Disconnect() end
   end
end

-- üéÆ MAIN TAB CONTENT
local MovementSection = MainTab:CreateSection("üèÉ Movement")

MainTab:CreateToggle({
   Name = "Noclip",
   CurrentValue = false,
   Flag = "NoclipMain",
   Callback = function(Value)
      local character = player.Character
      if character then
         local humanoid = character:FindFirstChild("Humanoid")
         if humanoid then humanoid.PlatformStand = Value end
      end
   end
})

MainTab:CreateSlider({
   Name = "Walkspeed",
   Range = {16, 50},
   Increment = 1,
   Suffix = "Speed",
   CurrentValue = 16,
   Flag = "WalkspeedMain",
   Callback = function(Value)
      local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
      if humanoid then safeSetWalkspeed(humanoid, Value) end
   end
})

MainTab:CreateToggle({
   Name = "Godmode",
   CurrentValue = false,
   Flag = "GodmodeMain",
   Callback = toggleGodmode
})

-- üå≤ 99 NIGHTS TAB - GAME SPECIFIC
if currentGame == "99NIGHTS" then
   NightsTab = Window:CreateTab("üå≤ 99 Nights", 1398837429)
   
   local BringSection = NightsTab:CreateSection("üì¶ Bring Items")
   
   -- **COMPLETE 99 NIGHTS ITEM LIST** - EVERY SINGLE ITEM FROM ALL SOURCES [web:1][web:25][web:27][web:28]
   local all99Items = {
      -- üåΩ FOOD (35+ items)
      "Apple", "BBQ Ribs", "Berry", "Cake", "Candy Apple", "Candy Corn", "Carrot", "Carrot Cake", 
      "Char", "Chili", "Clownfish", "Corn", "Cotton Candy", "Eel", "Hearty Stew", "Jar o' Jelly",
      "Jellyfish", "Lava Eel", "Lionfish", "Mackerel", "Meat? Sandwich", "Morsel", "Pumpkin",
      "Pumpkin Pie", "Pumpkin Soup", "Ribs", "Salmon", "Seafood Chowder", "Seasoning", "Shark",
      "Steak", "Steak Dinner", "Stew", "Swordfish", "Cornucopia",
      
      -- üå± SEEDS
      "Berry Seeds", "Cavevine Seeds", "Chili Seeds", "Dripleaf Seeds", "Firefly Seeds",
      "Flower Seeds", "Mandrake Seeds", "Moonflower Seeds", "Stareweed Seeds",
      
      -- üõ†Ô∏è MATERIALS & SCRAP (COMPLETE LIST)
      "Wood", "Wood Log", "Scrap", "Sheet Metal", "Tyre", "Tire", "UFO Component", 
      "UFO Scrap", "UFO Junk", "Washing Machine", "Broken Fan", "Broken Microwave",
      "Old Radio", "Bolt", "CornerWedge", "Gold Wedge",
      
      -- ü©π HEALING
      "Bandage", "Medkit", "First Aid",
      
      -- üî´ **GUNS & WEAPONS** 
      "Gun", "Pistol", "Rifle", "Shotgun", "Ray Gun", "Chainsaw", "Bear Trap", "Bolt",
      
      -- üíé GEMS & RESOURCES
      "Coal", "Diamond", "Gem", "Crystal", "Cultist Gem", "Forest Gem", "Gold Shard", 
      "Meteor Shard",
      
      -- üîë KEYS
      "Blue Key", "Frog Key", "Grey Key", "Red Key", "Yellow Key"
   }
   
   -- SMART FILTER - Matches workspace items against COMPLETE list
   local function isValidPickup(obj)
      if not obj:IsA("BasePart") or obj.Size.Magnitude < 0.2 then return false end
      if obj.Parent == player.Character or not obj.Parent then return false end
      
      local name = obj.Name:lower()
      local junkWords = {"particle", "effect", "light", "fire", "smoke", "glow", "scrapper", "debris", "chunk"}
      
      -- Block junk first
      for _, junk in pairs(junkWords) do
         if name:find(junk) then return false end
      end
      
      -- Match against ALL 99 items + guns
      for _, itemName in pairs(all99Items) do
         if name:find(itemName:lower()) or itemName:lower():find(name) then
            return true
         end
      end
      return false
   end
   
   local function scanRealItems()
      local foundItems = {}
      local seenNames = {}
      
      for _, obj in pairs(workspace:GetDescendants()) do
         if isValidPickup(obj) and not seenNames[obj.Name] then
            seenNames[obj.Name] = true
            table.insert(foundItems, obj.Name)
         end
      end
      
      table.sort(foundItems)
      return foundItems
   end
   
   local Dropdown
   local function updateItemList()
      local realItems = scanRealItems()
      if #realItems > 0 then
         Dropdown:Refresh(realItems, true)
         Dropdown:Set(realItems[1])
         Rayfield:Notify({Title = "üîç SCAN COMPLETE", Content = #realItems .. " REAL 99 NIGHTS ITEMS FOUND!", Duration = 4})
      else
         Dropdown:Refresh({"No pickup items"}, true)
      end
   end
   
   NightsTab:CreateButton({
      Name = "üîç SCAN ALL 99 NIGHTS ITEMS",
      Callback = function()
         updateItemList()
      end
   })
   
   Dropdown = NightsTab:CreateDropdown({
      Name = "üéØ BRING ITEM",
      Options = {"Scan first!"},
      CurrentOption = {"Scan first!"},
      Flag = "Bring99Nights",
      Callback = function(Option)
         local selected = Option[1]
         if selected == "Scan first!" or selected == "No pickup items" then return end
         
         local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
         if not root then return end
         
         local count = 0
         for _, obj in pairs(workspace:GetDescendants()) do
            if isValidPickup(obj) and obj.Name == selected then
               pcall(function()
                  obj.CFrame = root.CFrame * CFrame.new(math.random(-5,5), math.random(2,5), -7)
                  count = count + 1
               end)
            end
         end
         
         Rayfield:Notify({
            Title = "‚úÖ BRING COMPLETE",
            Content = "Brought " .. count .. " " .. selected .. "!",
            Duration = 4
         })
      end
   })
   
   -- QUICK GUN/MATERIAL BUTTONS
   NightsTab:CreateButton({
      Name = "üî´ Bring All Guns/Weapons",
      Callback = function()
         local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
         if root then
            local count = 0
            local weapons = {"gun", "pistol", "rifle", "shotgun", "ray gun", "chainsaw"}
            for _, item in pairs(workspace:GetDescendants()) do
               if isValidPickup(item) then
                  local name = item.Name:lower()
                  for _, weapon in pairs(weapons) do
                     if name:find(weapon) then
                        item.CFrame = root.CFrame * CFrame.new(math.random(-3,3), 3, -4)
                        count = count + 1
                        break
                     end
                  end
               end
            end
            Rayfield:Notify({Title = "üî´ GUNS", Content = count .. " weapons brought!", Duration = 3})
         end
      end
   })
   
   NightsTab:CreateButton({
      Name = "üå≤ Bring All Wood",
      Callback = function()
         local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
         if root then
            local count = 0
            for _, item in pairs(workspace:GetDescendants()) do
               if isValidPickup(item) and item.Name:lower():find("wood") then
                  item.CFrame = root.CFrame * CFrame.new(0, 0, -3)
                  count = count + 1
               end
            end
            Rayfield:Notify({Title = "üå≤ WOOD", Content = count .. " wood brought!", Duration = 3})
         end
      end,
   })

   local TeleportSection = NightsTab:CreateSection("üöÄ Teleport")
   NightsTab:CreateButton({
      Name = "üèïÔ∏è TP to Base",
      Callback = function()
         for _, base in pairs(workspace:GetDescendants()) do
            if base.Name:lower():find("base") and base:IsA("BasePart") then
               player.Character.HumanoidRootPart.CFrame = base.CFrame + Vector3.new(0, 5, 0)
               break
            end
         end
      end,
   })
end

print("üî• FlareHub V2 - FULL 99 NIGHTS ITEMS + GUNS LOADED!")

